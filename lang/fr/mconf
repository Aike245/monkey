
cat > conf/monkey.conf <<EOF
# Monkey HTTP Daemon - Configuration
# ==================================
#
# Ici les principales variables du programme sont définies.
#
# Server_root :
# -------------
# Le répertoire de travail principal du serveur, là où se trouvent
# vos pages Web.
#
# Exemple:
#      Server_root /home/krypton/htdocs
#

Server_root $datadir

# Port : 
# ------
# Monkey écoutera les connections sur ce port. Sa valeur peut
# être comprise entre 1 et 65535. Cependant seul un utilisateur 
# ayant les privilèges de root pourra se connecter sur un port 
# inférieur ou égal à 1024.
#

Port 2001

# ServerName :
# ------------
# Vous pouvez mettre ici un hostname (ex :monkey.linuxchile.cl).
# Mettez votre adresse IP si vous êtes sur un réseau ou 127.0.0.1 pour
# travailler en local.

ServerName 127.0.0.1

# Timeout :
# ---------
# Le temps en seconde que vous allez être en attente d'un utilisateur
# soit pour recevoir des informations soit pour en transmettre.

Timeout 15

# MaxClients :
# ------------
# Nombre maximum de clients qui peuvent se connecter. 

MaxClients 20 

# PidFile:
# --------
# Fichier ou le serveur met son N° de process au démarrage.

PidFile $logdir/monkey.pid

# AccessLog:
# ----------
# Fichier d'enregistrement des connections normales.

AccessLog $logdir/access.log

# ErrorLog:
# ---------
# Fichier d'enregistrement des connections erronées.

ErrorLog $logdir/error.log

# UserDir:
# --------
# Nom du répertoire des utilisateurs (/~user).

UserDir public_html

# Indexfile :
# -----------
# Nom du fichier à ouvir quand l'url se fini par un répertoire.
 
Indexfile index.html index.htm

# Server_ScriptAlias :
# --------------------
# Si vous utilisez CGI vous deveez définir le répertoire ou vous allez mettre
# vos executables en définissant un alias de la forme :
# 
#       Server_ScriptAlias /name_of_alias/ original_path
#

Server_ScriptAlias /cgi-bin/ $cgibin

# GetDir :
# --------
# S'il n'y a pas de fichier défini dans la rubrique 'Indexfile' envoyer
# ou pas le contenu du répertoire (on/off).

GetDir on

# HideVersion :
# ------------- 
# Pour des raisons de sécurité certaines personnes ne veulent pas que l'on
# voie la version de leur serveur (on/off).

HideVersion off


# Resume:
# -------
# Autoriser les reprises de transfers (on/off).

Resume on

# User :
# ------
# Vous pouvez ici définir l'utilisateur sous lequel s'executera 
# Monkey; il doit cependant être lancé en root. S'il est lancé par
# un utilisateur il gardera le nom de cet utilisateur et ne tiendra
# pas compte de ce paramètre.
#

User nobody

# AddScript
# ------------
#
# Si vous souhaitez utiliser un proprocesseur style PHP 
# pour certains fichiers spécifiez le ici sous cette forme : 
#
#    AddScript mime_type source_path_binary extension
#
#  Exemple pour PHP4.x:
#  --------------------
#   AddScript application/x-httpd-php /home/my_home/php/bin/php php
#
# Un fichier avec l'extension PHP sera traité avec le programme :
# /home/my_home/php/bin/php
#

#AddScript application/x-httpd-php /home/my_home/php/bin/php php
#AddScript application/x-httpd-php /home/my_home/php/bin/php php3

# VIRTUAL HOST :
# --------------
# Virtual host vous permet de servir différent fichiers dans différents 
# répertoires, tout cela étant redirigé vers le client avec l'adresse 
# du serveur spécifié.
#
# Exemple:
#        
# Si vous voulez définir par exemple www.exemple.org, quand la requête
# arrive à la machine (bien entendu www.exemple.org doit être connu des
# serveurs DNS) vous devez ajouter cette entrée :
# 
#   <Virtualhost>
#       VirtualServerName www.example.org
#       VirtualDocumentRoot /home/web/example/htdocs
#       VirtualScriptAlias /cgi-bin/ /home/web/example/cgi-bin
#       VirtualForceGetDir off
#   </Virtualhost>
#
# Si vous n'avez pas de serveur DNS installé vous pouvez jouer avec le
# loopback 127.0.0.1 en ajoutant votre adresse virtuelle dans /etc/hosts
#

# ---------------------
# CONFIGURATION AVANCEE
# --------------------
# Ne changez ça que si vous savez ce que vous faites.

# KeepAlive :
# -----------
# Autorise les connexions persistentes. (on/off)

KeepAlive on

# MaxKeepAliveRequest
# -------------------
# Maximum de requêtes par connexions. (value > 0)

MaxKeepAliveRequest 20

# KeepAliveTimeout
# ----------------
# Nombre de secondes d'attente de la requête suivante dans
# une connection persistente (valeur > 0).

KeepAliveTimeout 15 

# Include
# -------
# Vous permet de mettre votre configuration dans plusieurs 
# fichiers.
#
# Exemple:
#	Include virtualhost.conf

# Header_file et Footer_file
# ---------------------------
#
# 
# Cette variable vous autorise à voir les fichier suivant quand vous avez
# autorisé à voir les répertoires complets
#
Header_file .header
Footer_file .footer
#
#
#  Ces fichiers pourraient exister dans les répertoires à voir.

# Max_IP
# ------
#
# Permet de définir le maximum de connexion d'un client  
# avec la même adresse IP (valeur = 0 invalide cette option).

Max_IP 5

EOF
